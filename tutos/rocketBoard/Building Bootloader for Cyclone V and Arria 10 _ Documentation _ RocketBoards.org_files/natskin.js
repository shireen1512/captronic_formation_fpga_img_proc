"use strict";(function(n){var t=0;n.extend(n.easing,{shagga:function(n,t,e,i,o){if((t/=o/2)<1){return i/2*t*t+e}return-i/2*(--t*(t-2)-1)+e}});function e(){n(".natWebMenu").livequery(function(){var t=n(this),e=t.data(),i,o,a,s,r,l;if(t.is(".natWebMenuStretch")){i=t.find(".natWebMenuContents > ul > li");o=i.length;a=100-(o-1)*(e.margin||0);s=a/o;r=a-s*(o-1);s=s+"%";r=r+"%";i.width(s).last().width(r)}l=n("<select />").appendTo(this);n("<option />",{selected:"selected",value:"",text:"Go to..."}).appendTo(l);t.find(".natWebMenuContents > ul > li > a").each(function(){var t=n(this);n("<option />",{value:t.attr("href"),text:t.text()}).appendTo(l)});l.change(function(){window.location.href=n(this).find("option:selected").val()})});n(".natWebMenuContents > ul").livequery(function(){var t=n(this);t.addClass("sf-menu").superfish({cssArrows:false,speed:200,onBeforeShow:function(){var t=n(this),e;if(t.is(".ajaxMenu")){e=n.extend({},t.metadata());if(e.url){t.load(e.url,function(){t.removeClass("ajaxMenu");t.parent().removeClass("hasAjaxMenu")})}}}}).find("li:has(ul)").addClass("hasSubMenu").find("li:has(.ajaxMenu)").addClass("hasAjaxMenu")})}function i(){n(document).on("click",".natPanelToggle a",function(){var t=n(this);n(".natTopPanel").slideToggle({duration:200,easing:"shagga",complete:function(){n(this).toggleClass("open");t.parent().toggleClass("open")}});return false})}function o(){n(document).on("click","a.natEditSettingsAction",function(){n("#editSettingsForm").submit();return false});n(".natMoreActionsMenu:first").livequery(function(){n(this).find("hr").parent().each(function(){var t=n(this);if(t.prevAll().find(".natTopicAction").not(".natDisabledTopicAction").length===0||t.nextAll().find(".natTopicAction").not(".natDisabledTopicAction").length===0){t.hide()}})});n(".natMoreActionsMenu:not(.natInitedMoreActionsMenu)").livequery(function(){var t=n(this),e=n.extend({},t.metadata());t.addClass("natInitedMoreActionsMenu").superfish(e);t.find("a[href]").click(function(){t.superfish("hide")})})}function a(){n(".natMainContents").find(".foswikiTable").not(n(".foswikiTable .foswikiTable",this)).wrap("<div class='overflow foswikiTableOverflow'></div>")}function s(){n(document).ajaxSend(function(){if(n(".blockUI").length===0){n(".natBusy").show()}});n(document).ajaxComplete(function(){n(".natBusy").hide()})}function r(){n(".natSideBar h2 + h2").livequery(function(){var t=n(this);t.replaceWith("<h3>"+t.html()+"</h3>")});n(".natSideBarContents > h2:first-of-type").addClass("natFirstOfType")}function l(){n(".solrSearchBox form").livequery(function(){var t=n(this),e=t.attr("action"),i=t.find("input[type=text]"),o=t.find("input[type=submit]:visible"),a=n.extend({my:"right top",at:"right bottom+11"},{my:t.data("position-my"),at:t.data("position-at")}),s=t.data("solrExtraFilter");t.submit(function(){var n=t.find("input[name='search']"),i=e+(n&&n.val()?"#q="+n.val():"");window.location.href=i;return false});if(typeof n.fn.autosuggest==="function"){i.autosuggest({extraParams:{filter:s},position:a,menuClass:"natSearchBoxMenu",search:function(){o.hide()},response:function(){o.show()},open:function(){o.show()}})}})}function u(){if(window.navigator.userAgent.match(/Android/i)){window.scrollTo(0,1)}}function c(){var t=n(".natSideBar");function e(){t.toggle("slide",{direction:"right",duration:200,easing:"shagga",complete:function(){n("body").toggleClass("natBodyNavToggleActive");if(!n("body").is(".natBodyNavToggleActive")){t.css("display","")}}})}n(document).on("click",".natBodyNavToggleActive",function(){e();return true});n(".natNavToggle").livequery(function(){var t=n(this);t.on("click",function(){e();return false})})}function f(){n(window).scroll(function(){var t=n(this).scrollTop();if(t>100){n("a.natScrollTop").fadeIn(1e3)}else{n("a.natScrollTop").fadeOut(100)}})}function d(){n(".foswikiBroadcastMessage").livequery(function(){var t=n(this),e="FOSWIKI_NATSKIN_broadcastMessage",i=foswiki.getPreference("COOKIEREALM"),o=foswiki.getPreference("URLHOST").startsWith("https://"),a=n.cookie(e),s;if(typeof a==="undefined"){t.show()}else{s=h(t.text());if(s!=a){t.show()}}t.find(".foswikiBroadcastMessageClose").on("click",function(){s=s||h(t.text());t.slideUp("fast");n.cookie(e,s,{path:"/",domain:i,secure:o});return false})})}function h(n){var t=5381,e=n.length;while(e){t=t*33^n.charCodeAt(--e)}return t>>>0}function g(){n("address").livequery(function(){var t=n(this),e=t.html().replace(/^\s+|\s+$/g,"");t.html(e)})}function p(){n(".natExternalLink").livequery(function(){n(this).attr("target","_blank").attr("rel","noopener noreferrer")})}n(function(){var h=foswiki.getPreference("NatSkin");u();if(h.initWebMenu){e()}if(h.initBusyIndicator){s()}if(h.initOverflows){a()}if(h.initSideBar){r()}if(h.initAutoComplete){l()}if(h.initExternalLinks){p()}if(h.initTopPanel){i()}n(document).on("dialogopen",function(){t++;n("body").addClass("natDialogOpen")});n(document).on("dialogclose",function(){t--;if(t<=0){n("body").removeClass("natDialogOpen")}});o();f();c();d();g()})})(jQuery);